
#import lib.DETAgent as DETAgent #Import Docket Exploitation Toolkit Lib

from dockerexploitationframework import DEFAgent
import requests
import sys



class AgentPluginExample(DEFAgent.Plugin): #Extend Plugin 

    def run(self):
        print("ok, i am runniung")
        r = requests.get(url)
        print("My data is:"+r.text)
        self.sendMessage(r.text)
        
    def endPlugin(self):
        self.endRun()

if __name__ == '__main__':
    #test that we can get argv even with pyinstaller

    if len(sys.argv)>1 :
        url=sys.argv[1]
    else:
        url='https://example.com'

    myplugin = AgentPluginExample()
    myplugin.run()
    myplugin.endPlugin()
    
